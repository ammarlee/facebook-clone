{"version":3,"sources":["webpack:///./src/views/user/users.vue?adbb","webpack:///src/views/user/users.vue","webpack:///./src/views/user/users.vue?0cf3","webpack:///./src/views/user/users.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","overlay","_e","staticClass","_v","_l","user","key","name","on","$event","navegatetoprofile","_id","img","domProps","_s","checkingUser","checkingfriendRequest","stopPropagation","addFriend","staticRenderFns","data","socket","users","act","isFriend","isInRequest","methods","p","friendId","userId","s","$router","push","component","VApp","VBtn","VCard","VCol","VContainer","VImg","VList","VListItem","VListItemAction","VListItemAvatar","VListItemContent","VListItemTitle","VOverlay","VProgressCircular","VRow","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/chunk-2d2105ec.ef574de2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-overlay',{attrs:{\"value\":_vm.overlay}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),(!_vm.overlay)?_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\",\"lg\":\"12\"}},[_c('v-card',{staticClass:\"mx-auto\"},[_c('v-toolbar',{attrs:{\"color\":\"cyan\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"users\")])],1),_c('v-list',[_c('v-row',[_vm._l((_vm.users),function(user){return [_c('v-col',{key:user.name,attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c('v-list-item',{on:{\"click\":function($event){return _vm.navegatetoprofile(user._id)}}},[_c('v-list-item-avatar',[_c('v-img',{attrs:{\"src\":user.img}})],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"innerHTML\":_vm._s(user.name)}},[_vm._v(\"test\")]),_c('v-list-item-action',{staticClass:\"flex-row\"},[(_vm.checkingUser(user._id))?_c('v-btn',{staticClass:\"pink\",attrs:{\"id\":user._id,\"small\":\"\"}},[_vm._v(\"friend\")]):(_vm.checkingfriendRequest(user._id))?_c('v-btn',{staticClass:\"yellow\",attrs:{\"id\":user._id,\"small\":\"\"}},[_vm._v(\"pending\")]):_c('v-btn',{staticClass:\"success\",attrs:{\"id\":user._id,\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addFriend(user._id)}}},[_vm._v(\"add\")])],1)],1)],1)],1)]})],2)],1)],1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app>\r\n    <v-overlay :value=\"overlay\">\r\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\r\n    </v-overlay>\r\n    <v-container v-if=\"!overlay\">\r\n      <v-row>\r\n        <v-col cols=\"12\" sm=\"12\" md=\"12\" lg=\"12\">\r\n\r\n      <v-card class=\"mx-auto\">\r\n        <v-toolbar color=\"cyan\" dark>\r\n          <v-toolbar-title>users</v-toolbar-title>\r\n        </v-toolbar>\r\n\r\n        <v-list>\r\n            <v-row  >\r\n          <template v-for=\"(user) in users\" style=\"cursor: pointer\" >\r\n            <v-col cols=\"12\" sm=\"4\" md=\"4\" :key=\"user.name\">\r\n            <v-list-item @click=\"navegatetoprofile(user._id)\">\r\n              <v-list-item-avatar>\r\n                <v-img :src=\"user.img\"></v-img>\r\n              </v-list-item-avatar>\r\n\r\n              <v-list-item-content>\r\n                <v-list-item-title v-html=\"user.name\">test</v-list-item-title>\r\n\r\n                <v-list-item-action class=\"flex-row\">\r\n                  <v-btn \r\n                    class=\"pink\"\r\n                    v-if=\"checkingUser(user._id)\"\r\n                    :id=\"user._id\"\r\n                    \r\n                    small\r\n                  >friend</v-btn>\r\n\r\n                  <v-btn\r\n                    class=\"yellow\"\r\n                    v-else-if=\"checkingfriendRequest(user._id)\"\r\n                    :id=\"user._id\"\r\n                    small\r\n                  >pending</v-btn>\r\n                  <v-btn\r\n                    class=\"success\"\r\n                    v-else\r\n                    :id=\"user._id\"\r\n                    small\r\n                    @click.stop=\"addFriend(user._id) \"\r\n                  >add</v-btn>\r\n                </v-list-item-action>\r\n              </v-list-item-content>\r\n            </v-list-item>\r\n\r\n            </v-col>\r\n\r\n          </template>\r\n            </v-row>\r\n        </v-list>\r\n      </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport Functions from \"../../../server/api\";\r\nimport socktConnect from \"socket.io-client\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      socket: \"\",\r\n      users: \"\",\r\n      user:'',\r\n      act: \"add\",\r\n      isFriend: null,\r\n      isInRequest: null,\r\n    };\r\n  },\r\n  methods: {\r\n    checkingUser(userId) {\r\n      let s = this.user.newFriendsTest.find((p) => {\r\n        return p.friendId === userId;\r\n      });\r\n      if (s) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    checkingfriendRequest(userId) {\r\n      let s = this.user.friendsRequests.find((p) => {\r\n        return p === userId;\r\n      });\r\n      if (s) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    navegatetoprofile(friendId) {\r\n      this.$router.push(\"/FriendProfile/\" + friendId);\r\n    },\r\n\r\n    async addFriend(friendId) {\r\n      const but = document.getElementById(friendId);\r\n      try {\r\n\r\n        const res = await Functions.sendFriendRequest({\r\n          userId: this.$store.getters.getUser._id,\r\n          friendId: friendId,\r\n        });\r\n        but.classList.remove(\"success\")\r\n        but.classList.add(\"yellow\")\r\n        but.innerText = \"pending\"\r\n        but.disabled = 'disabled'\r\n        let u = this.$store.getters.getUser;\r\n        const noti = {\r\n          userId: u._id,\r\n          name: u.name,\r\n          img: u.img,\r\n          friendId: friendId,\r\n          action:\"newNotification\",\r\n          msg:' have sent you friend request ',\r\n        };\r\n        await Functions.friendRequestNotifications(noti)\r\n        this.socket.emit(\"sendFriendRequest\", noti);\r\n        console.log(res); \r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  },\r\n  \r\n  async mounted() {\r\n    try {\r\n      this.overlay = true\r\n      let currentuser = this.$store.getters.getUser._id\r\n      this.socket = socktConnect(\"https://facebook-clones.herokuapp.com/\");\r\n      const res = await Functions.getusers();\r\n      const u = await Functions.getCurrentUser(currentuser)\r\n      this.user=u.data.user\r\n      this.users = res.data.users.filter(i=>{\r\n        return i._id !==currentuser\r\n      });\r\n      this.overlay = false\r\n    } catch (error) {\r\n      this.overlay = false\r\n      this.errors=error\r\n   \r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./users.vue?vue&type=template&id=636263b9&scoped=true&\"\nimport script from \"./users.vue?vue&type=script&lang=js&\"\nexport * from \"./users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"636263b9\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VBtn,VCard,VCol,VContainer,VImg,VList,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VListItemTitle,VOverlay,VProgressCircular,VRow,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}
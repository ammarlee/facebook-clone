(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2e4a5d"],{"169a":function(t,e,i){"use strict";i("7db0"),i("caad"),i("45fc"),i("a9e3"),i("2532"),i("498a");var n=i("5530"),s=i("2909"),a=i("ade3"),o=(i("368e"),i("480e")),r=i("4ad4"),c=i("b848"),l=i("75eb"),d=i("e707"),u=i("e4d3"),v=i("21be"),h=i("f2e7"),m=i("a293"),p=i("58df"),f=i("d9bd"),g=i("80d2"),b=Object(p["a"])(r["a"],c["a"],l["a"],d["a"],u["a"],v["a"],h["a"]);e["a"]=b.extend({name:"v-dialog",directives:{ClickOutside:m["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(a["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(a["a"])(t,"v-dialog--active",this.isActive),Object(a["a"])(t,"v-dialog--persistent",this.persistent),Object(a["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(a["a"])(t,"v-dialog--scrollable",this.scrollable),Object(a["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(f["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):d["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.previousActiveElement=document.activeElement,t.$refs.content.focus(),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===g["r"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var i=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=Object(s["a"])(i).find((function(t){return!t.hasAttribute("disabled")}));n&&n.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(o["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(n["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(n["a"])(Object(n["a"])({},t.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(g["f"])(this.maxWidth),width:"auto"===this.width?void 0:Object(g["f"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},1876:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-sheet",{staticClass:"mb-3",attrs:{rounded:"lg"}},[t.post?i("v-card",{staticClass:"mx-auto",attrs:{rounded:"lg"}},[i("v-list",{staticClass:"theListDiv pt-0 pb-0",attrs:{"two-line":""}},[i("v-list-item",[i("v-list-item-avatar",[i("v-img",{staticClass:"elevation-6",attrs:{src:t.post.userId.img}})],1),i("v-list-item-content",{staticClass:"pt-0"},[i("v-list-item-subtitle",{staticClass:"text-h6 font-weight-bold text-capitalize"},[t._v(" "+t._s(t.post.userId.name)+" "),i("div",{staticStyle:{position:"absolute",right:"4px",top:"8px"}},[t._t("options")],2)]),i("v-list-item-subtitle",[t._v(t._s(t.post.date))])],1)],1)],1),i("v-list-item",[i("v-card-text",{staticClass:"mb-0 mt-0 pb-0 pt-0"},[i("div",{staticClass:"my-4 subtitle-1 text-capitalize text-truncate"},[t._v(t._s(t.post.description))])])],1),t.post.img[0]?i("div",[i("v-img",{attrs:{"max-height":t.heights,src:t.post.img[0]},on:{click:function(e){return t.goTo(t.post)}}})],1):t._e(),i("v-card-actions",[i("v-btn",{class:{checking:t.checking},attrs:{color:"deep-purple lighten-2",text:""},on:{click:function(e){return t.addLike(t.post)}}},[i("v-icon",{staticClass:"ico"},[t._v("mdi-heart")])],1),i("v-btn",{attrs:{color:"deep-purple lighten-2",text:""},on:{click:function(e){t.show=!t.show}}},[i("v-icon",[t._v("mdi-comment")]),i("small",[t._v("("+t._s(t.post.comments.length)+")")])],1),i("v-btn",{attrs:{color:"deep-purple lighten-2",text:""},on:{click:t.reserve}},[i("v-icon",[t._v("mdi-share")])],1)],1),i("v-expand-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[i("v-divider"),t.post?i("v-card",{staticClass:"mx-auto",staticStyle:{height:"100%",width:"100%"},attrs:{rounded:"lg"}},[i("div",{staticClass:"pl-3"},[i("v-row",[i("v-col",{attrs:{cols:"11"}},[i("v-text-field",{attrs:{label:"comment ","hide-details":"","append-icon":"mdi-emoticon-excited"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addComment(t.post._id,t.post)},"click:append":t.toggleMarker},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("v-avatar",{attrs:{size:"33"}},[i("img",{attrs:{src:t.user.img,alt:""}})])]},proxy:!0}],null,!1,3169518746),model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1),t._l(t.post.comments,(function(e){return i("v-list",{key:e._id,staticClass:"theListDiv text-capitalize pt-0 pb-0",attrs:{"three-line":"",id:e._id}},[i("v-list-item",[i("v-list-item-avatar",[i("v-img",{staticClass:"elevation-6",attrs:{src:e.img[0]}})],1),i("v-list-item-content",{staticClass:"pt-0"},[i("v-list-item-subtitle",{staticClass:"text-h6 font-weight-bold text-capitalize"},[t._v(t._s(e.name))]),i("v-list-item-subtitle",{staticClass:"font-weight-bold black--text"},[t._v(t._s(e.description))]),i("v-list-item-subtitle",{attrs:{small:""}},[t._v(t._s(e.date))])],1)],1)],1)}))],2):t._e()],1)])],1):t._e()],1)],1)},s=[],a=(i("7db0"),i("b0c0"),i("96cf"),i("1da1")),o=i("7695"),r=i("8e27"),c=i.n(r),l={name:"one",props:["post","heights"],data:function(){return{on:"",name:"s",comment:"",show:!1,checking:null}},mounted:function(){var t=this;this.socket=c()("https://facebook-clones.herokuapp.com/");var e=this.post.reacts.find((function(e){return e.userId===t.user._id}));this.checking=!!e},methods:{toggleMarker:function(){console.log("appened method ")},reserve:function(){this.show=!this.show},goTo:function(t){this.$router.push("/singlePost/"+t._id)},addComment:function(t,e){var i=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o["a"].creatComment({user:i.user,postId:t,comment:i.comment});case 3:return i.comment="",s={userId:i.user._id,name:i.user.name,img:i.user.img,friendId:e.userId._id,postId:e._id,action:"newCommentNotification",msg:" have comment on your post  "},n.next=7,o["a"].pushToAllNotifications(s);case 7:i.socket.emit("makeComment",s),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},addLike:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n,s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.checking){i.next=8;break}return i.next=3,o["a"].removeLike({postId:t._id,user:e.user});case 3:n=i.sent,console.log(n),e.checking=!1,i.next=18;break;case 8:return i.next=10,o["a"].addLike({postId:t._id,user:e.user});case 10:return s=i.sent,console.log(s),a={userId:e.user._id,name:e.user.name,img:e.user.img,friendId:t.userId._id,postId:t._id,action:"newLikeNotification",msg:" have like on your post  "},e.$store.dispatch("editPost",s.data.post),i.next=16,o["a"].pushToAllNotifications(a);case 16:e.socket.emit("addLike",a),e.checking=!0;case 18:case"end":return i.stop()}}),i)})))()}},computed:{user:function(){return this.$store.getters.getUser},postId:function(){return this.$route.params.id}}},d=l,u=(i("517e"),i("2877")),v=i("6544"),h=i.n(v),m=i("8212"),p=i("8336"),f=i("b0af"),g=i("99d9"),b=i("62ad"),k=i("ce7e"),x=i("0789"),_=i("132d"),w=i("adda"),C=i("8860"),y=i("da13"),I=i("8270"),O=i("5d23"),V=i("0fd9"),A=i("8dd9"),$=i("8654"),S=Object(u["a"])(d,n,s,!1,null,"70e0a028",null);e["a"]=S.exports;h()(S,{VAvatar:m["a"],VBtn:p["a"],VCard:f["a"],VCardActions:g["a"],VCardText:g["b"],VCol:b["a"],VDivider:k["a"],VExpandTransition:x["a"],VIcon:_["a"],VImg:w["a"],VList:C["a"],VListItem:y["a"],VListItemAvatar:I["a"],VListItemContent:O["a"],VListItemSubtitle:O["b"],VRow:V["a"],VSheet:A["a"],VTextField:$["a"]})},"2fa4":function(t,e,i){"use strict";i("20f6");var n=i("80d2");e["a"]=Object(n["g"])("spacer","div","v-spacer")},"368e":function(t,e,i){},"517e":function(t,e,i){"use strict";i("d660")},b0d7:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-menu",{attrs:{transition:"slide-y-transition",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"ml-auto font-weight-bold",attrs:{text:""},on:{click:function(e){return t.openOptions(t.post.userId._id)}}},"v-btn",s,!1),n),[t._v("...")])]}}])},[i("v-list",[t.items?i("div",[i("v-list-item",[i("v-list-item-title",[i("v-btn",{attrs:{text:""},on:{click:function(e){return e.stopPropagation(),t.savePost(t.post)}}},[i("v-icon",[t._v("mdi-star")]),t._v(" save post ")],1)],1)],1),i("v-list-item",[i("v-list-item-title",[i("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({attrs:{text:""},on:{click:function(e){return t.editPost(t.post)}}},"v-btn",s,!1),n),[i("v-icon",[t._v("mdi-pencil")]),t._v("edit post ")],1)]}}],null,!1,2325952625),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline text-center text-capitalize grey lighten-2"},[t._v("edit post")]),i("v-divider"),i("div",{staticClass:"ml-2 container"},[i("div",{staticClass:"my-3"},[i("v-list",{staticClass:"pt-0 pb-0",attrs:{"one-line":""}},[i("v-list-item",[i("v-list-item-avatar",[i("v-img",{attrs:{src:t.user.img}})],1),i("v-list-item-content",{staticClass:"pt-0"},[i("v-list-item-subtitle",{staticClass:"text-h6 font-weight-bold text-capitalize"},[t._v(t._s(t.user.name))])],1)],1)],1)],1),i("div",[i("div",[i("textarea-emoji-picker",{model:{value:t.dialogData.description,callback:function(e){t.$set(t.dialogData,"description",e)},expression:"dialogData.description"}})],1)]),i("div",{staticClass:"features my-2"},[i("v-btn",{staticClass:"text-capitalize",on:{click:t.refs}},[t._v(" add to your post "),i("v-icon",{staticClass:"ml-2"},[t._v("mdi-camera")])],1),i("input",{ref:"uploading",staticClass:"d-none",attrs:{type:"file",multiple:""},on:{change:t.uploadFile}})],1),t.post.img.length>0?i("div",{staticClass:"rounded-lg",staticStyle:{"max-height":"190px"}},[i("v-img",{staticStyle:{height:"190px"},attrs:{src:t.dialogData.img[0]}})],1):t._e()]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",block:""},on:{click:t.editThePost}},[t._v("edit post")])],1)],1)],1)],1)],1),i("v-list-item",[i("v-list-item-title",[i("v-btn",{attrs:{text:""},on:{click:function(e){return t.deletePost(t.post)}}},[i("v-icon",[t._v("mdi-delete")]),t._v("delete post ")],1)],1)],1)],1):i("div",[i("v-list-item",[i("v-list-item-title",[i("v-btn",{attrs:{text:""},on:{click:function(e){return e.stopPropagation(),t.savePost(t.post)}}},[i("v-icon",[t._v("mdi-star")]),t._v(" save post ")],1)],1)],1),i("v-list-item",[i("v-list-item-title",[i("v-btn",{attrs:{text:""},on:{click:function(e){return t.hidePost(t.post)}}},[i("v-icon",[t._v("mdi-eye-off")]),t._v(" hide post ")],1)],1)],1)],1)])],1)],1)},s=[],a=(i("a4d3"),i("e01a"),i("b0c0"),i("b64b"),i("96cf"),i("1da1")),o=i("7695"),r=i("be62"),c={components:{TextareaEmojiPicker:r["a"]},props:["post"],data:function(){return{dialog:!1,editDialog:!1,errors:null,overlay:!1,rout:this.$route.name,items:null,dialogData:{id:"",description:"",img:[]}}},computed:{user:function(){return this.$store.getters.getUser},user_id:function(){return this.$route.params.id}},methods:{savePost:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,o["a"].savePost({post:t,userId:e.user._id});case 3:n=i.sent,console.log(n),i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](0),e.errors=i.t0;case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))()},refs:function(){this.$refs.uploading.click()},uploadFile:function(t){this.dialogData.img=t.target.files},deletePost:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=t._id,e.user._id!==t.userId._id){i.next=12;break}if(s=confirm("are you wanna to delete it "),!s){i.next=12;break}return i.prev=4,i.next=7,o["a"].deletPost(n);case 7:i.next=12;break;case 9:i.prev=9,i.t0=i["catch"](4),e.errors=i.t0;case 12:case"end":return i.stop()}}),i,null,[[4,9]])})))()},editThePost:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(e.prev=0,i=new FormData,n=0,s=Object.keys(t.dialogData.img);n<s.length;n++)a=s[n],i.append("files",t.dialogData.img[a]);return i.append("data",JSON.stringify(t.dialogData)),t.dialog=!1,t.overlay=!0,e.next=8,o["a"].editPost(i);case 8:t.overlay=!1,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),t.overlay=!1,t.errors=e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},editPost:function(t){this.dialogData={id:t._id,description:t.description,img:t.img},this.dialog=!0},hidePost:function(t){var e=document.querySelector("#div"+t._id);e.style.display="none"},openOptions:function(t){var e=this.user._id;this.items=e===t}}},l=c,d=i("2877"),u=i("6544"),v=i.n(u),h=i("8336"),m=i("b0af"),p=i("99d9"),f=i("169a"),g=i("ce7e"),b=i("132d"),k=i("adda"),x=i("8860"),_=i("da13"),w=i("8270"),C=i("5d23"),y=i("e449"),I=i("2fa4"),O=Object(d["a"])(l,n,s,!1,null,"0e84277d",null);e["a"]=O.exports;v()(O,{VBtn:h["a"],VCard:m["a"],VCardActions:p["a"],VCardTitle:p["c"],VDialog:f["a"],VDivider:g["a"],VIcon:b["a"],VImg:k["a"],VList:x["a"],VListItem:_["a"],VListItemAvatar:w["a"],VListItemContent:C["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VMenu:y["a"],VSpacer:I["a"]})},d660:function(t,e,i){}}]);
//# sourceMappingURL=chunk-2d2e4a5d.0f29bcb3.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-607a2433"],{"2fa4":function(e,t,r){"use strict";r("20f6");var a=r("80d2");t["a"]=Object(a["g"])("spacer","div","v-spacer")},"52c7":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-overlay",{attrs:{value:e.overlay}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),e.overlay?e._e():r("v-container",[e.users.length>0?r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"450"}},[r("v-toolbar",{attrs:{color:"cyan",dark:""}},[r("v-app-bar-nav-icon"),r("v-toolbar-title",[e._v("friends requests")]),r("v-spacer"),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("mdi-magnify")])],1)],1),r("v-list",{attrs:{"two-line":""}},[r("v-row",[e._l(e.users,(function(t){return[r("v-col",{key:t.name,attrs:{cols:"12",sm:"12",md:"12"}},[r("v-list-item",{key:t.name,on:{click:function(r){return e.navegatetoprofile(t._id)}}},[r("v-list-item-avatar",[r("v-img",{attrs:{src:t.img}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{innerHTML:e._s(t.name)}}),r("div",{staticClass:"mt-2"},[r("v-btn",{staticClass:"success d-inline mr-2",attrs:{small:""},on:{click:function(r){return r.stopPropagation(),e.acceptFriend(t._id)}}},[e._v("acccept")]),r("v-btn",{staticClass:"pink d-inline",attrs:{small:""},on:{click:function(r){return e.rejectfriend(t._id)}}},[e._v("refuse")])],1)],1)],1)],1)]}))],2)],1)],1):r("h2",{staticClass:"text-capitalize text-center mt-10 pink--text font-weight-bold"},[e._v("you have not any new friends requests")])],1)],1)},n=[],s=(r("4de4"),r("b0c0"),r("96cf"),r("1da1")),i=r("7695"),o=r("8e27"),c=r.n(o),u={name:"friendsRequest",data:function(){return{users:""}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.socket=c()("https://facebook-clones.herokuapp.com/"),e.overlay=!0,t.next=5,i["a"].getFreindRequest(e.$store.getters.getUser._id);case 5:r=t.sent,e.users=r.data.friends,e.overlay=!1,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0),e.errors=t.t0,e.overlay=!1;case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},methods:{navegatetoprofile:function(e){this.$router.push("/FriendProfile/"+e)},acceptFriend:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a=t.$store.getters.getUser,n={userId:a._id,friendId:e},t.overlay=!0,r.next=6,i["a"].acceptNewFriend(n);case 6:if(s=r.sent,console.log(s.status),t.removeFriendFromList(e),200!=s.status){r.next=14;break}return o={userId:a._id,name:a.name,img:a.img,friendId:e,action:"newNotification",msg:" have acccepted  your friend request "},r.next=13,i["a"].friendRequestNotifications(o);case 13:t.socket.emit("sendFriendRequest",o);case 14:t.overlay=!1,r.next=21;break;case 17:r.prev=17,r.t0=r["catch"](0),t.overlay=!1,t.errors=r.t0;case 21:case"end":return r.stop()}}),r,null,[[0,17]])})))()},rejectfriend:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a={userId:t.$store.getters.getUser._id,friendId:e},t.overlay=!0,r.next=5,i["a"].rejectfriend(a);case 5:t.removeFriendFromList(e),t.overlay=!1,r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),t.overlay=!1,t.errors=r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},removeFriendFromList:function(e){console.log(e),this.users=this.users.filter((function(t){return t._id!==e}))}}},l=u,d=r("2877"),v=r("6544"),f=r.n(v),m=r("7496"),p=r("5bc1"),g=r("8336"),h=r("b0af"),b=r("62ad"),w=r("a523"),k=r("132d"),y=r("adda"),V=r("8860"),_=r("da13"),x=r("8270"),I=r("5d23"),F=r("a797"),R=r("490a"),C=r("0fd9"),L=r("2fa4"),j=r("71d9"),q=r("2a7f"),O=Object(d["a"])(l,a,n,!1,null,"3f58a15d",null);t["default"]=O.exports;f()(O,{VApp:m["a"],VAppBarNavIcon:p["a"],VBtn:g["a"],VCard:h["a"],VCol:b["a"],VContainer:w["a"],VIcon:k["a"],VImg:y["a"],VList:V["a"],VListItem:_["a"],VListItemAvatar:x["a"],VListItemContent:I["a"],VListItemTitle:I["c"],VOverlay:F["a"],VProgressCircular:R["a"],VRow:C["a"],VSpacer:L["a"],VToolbar:j["a"],VToolbarTitle:q["a"]})}}]);
//# sourceMappingURL=chunk-607a2433.93c1eb81.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e968403"],{1876:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-sheet",{staticClass:"mb-3",attrs:{rounded:"lg"}},[t.post?s("v-card",{staticClass:"mx-auto",attrs:{rounded:"lg"}},[s("v-list",{staticClass:"theListDiv pt-0 pb-0",attrs:{"two-line":""}},[s("v-list-item",[s("v-list-item-avatar",[s("v-img",{staticClass:"elevation-6",attrs:{src:t.post.userId.img}})],1),s("v-list-item-content",{staticClass:"pt-0"},[s("v-list-item-subtitle",{staticClass:"text-h6 font-weight-bold text-capitalize"},[t._v(" "+t._s(t.post.userId.name)+" "),s("div",{staticStyle:{position:"absolute",right:"4px",top:"8px"}},[t._t("options")],2)]),s("v-list-item-subtitle",[t._v(t._s(t.post.date))])],1)],1)],1),s("v-list-item",[s("v-card-text",{staticClass:"mb-0 mt-0 pb-0 pt-0"},[s("div",{staticClass:"my-4 subtitle-1 text-capitalize text-truncate"},[t._v(t._s(t.post.description))])])],1),t.post.img[0]?s("div",[s("v-img",{attrs:{"max-height":t.heights,src:t.post.img[0]},on:{click:function(e){return t.goTo(t.post)}}})],1):t._e(),s("v-card-actions",[s("v-btn",{class:{checking:t.checking},attrs:{color:"deep-purple lighten-2",text:""},on:{click:function(e){return t.addLike(t.post)}}},[s("v-icon",{staticClass:"ico"},[t._v("mdi-heart")])],1),s("v-btn",{attrs:{color:"deep-purple lighten-2",text:""},on:{click:function(e){t.show=!t.show}}},[s("v-icon",[t._v("mdi-comment")]),s("small",[t._v("("+t._s(t.post.comments.length)+")")])],1),s("v-btn",{attrs:{color:"deep-purple lighten-2",text:""},on:{click:t.reserve}},[s("v-icon",[t._v("mdi-share")])],1)],1),s("v-expand-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[s("v-divider"),t.post?s("v-card",{staticClass:"mx-auto",staticStyle:{height:"100%",width:"100%"},attrs:{rounded:"lg"}},[s("div",{staticClass:"pl-3"},[s("v-row",[s("v-col",{attrs:{cols:"11"}},[s("v-text-field",{attrs:{label:"comment ","hide-details":"","append-icon":"mdi-emoticon-excited"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addComment(t.post._id,t.post)},"click:append":t.toggleMarker},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("v-avatar",{attrs:{size:"33"}},[s("img",{attrs:{src:t.user.img,alt:""}})])]},proxy:!0}],null,!1,3169518746),model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1),t._l(t.post.comments,(function(e){return s("v-list",{key:e._id,staticClass:"theListDiv text-capitalize pt-0 pb-0",attrs:{"three-line":"",id:e._id}},[s("v-list-item",[s("v-list-item-avatar",[s("v-img",{staticClass:"elevation-6",attrs:{src:e.img[0]}})],1),s("v-list-item-content",{staticClass:"pt-0"},[s("v-list-item-subtitle",{staticClass:"text-h6 font-weight-bold text-capitalize"},[t._v(t._s(e.name))]),s("v-list-item-subtitle",{staticClass:"font-weight-bold black--text"},[t._v(t._s(e.description))]),s("v-list-item-subtitle",{attrs:{small:""}},[t._v(t._s(e.date))])],1)],1)],1)}))],2):t._e()],1)])],1):t._e()],1)],1)},n=[],a=(s("7db0"),s("b0c0"),s("96cf"),s("1da1")),o=s("7695"),r=s("8e27"),c=s.n(r),l={name:"one",props:["post","heights"],data:function(){return{on:"",name:"s",comment:"",show:!1,checking:null}},mounted:function(){var t=this;this.socket=c()("https://facebook-clones.herokuapp.com/");var e=this.post.reacts.find((function(e){return e.userId===t.user._id}));this.checking=!!e},methods:{toggleMarker:function(){console.log("appened method ")},reserve:function(){this.show=!this.show},goTo:function(t){this.$router.push("/singlePost/"+t._id)},addComment:function(t,e){var s=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,o["a"].creatComment({user:s.user,postId:t,comment:s.comment});case 3:return s.comment="",n={userId:s.user._id,name:s.user.name,img:s.user.img,friendId:e.userId._id,postId:e._id,action:"newCommentNotification",msg:" have comment on your post  "},i.next=7,o["a"].pushToAllNotifications(n);case 7:s.socket.emit("makeComment",n),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](0),console.log(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,10]])})))()},addLike:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var i,n,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.checking){s.next=8;break}return s.next=3,o["a"].removeLike({postId:t._id,user:e.user});case 3:i=s.sent,console.log(i),e.checking=!1,s.next=18;break;case 8:return s.next=10,o["a"].addLike({postId:t._id,user:e.user});case 10:return n=s.sent,console.log(n),a={userId:e.user._id,name:e.user.name,img:e.user.img,friendId:t.userId._id,postId:t._id,action:"newLikeNotification",msg:" have like on your post  "},e.$store.dispatch("editPost",n.data.post),s.next=16,o["a"].pushToAllNotifications(a);case 16:e.socket.emit("addLike",a),e.checking=!0;case 18:case"end":return s.stop()}}),s)})))()}},computed:{user:function(){return this.$store.getters.getUser},postId:function(){return this.$route.params.id}}},d=l,u=(s("517e"),s("2877")),m=s("6544"),p=s.n(m),v=s("8212"),h=s("8336"),g=s("b0af"),f=s("99d9"),k=s("62ad"),_=s("ce7e"),x=s("0789"),b=s("132d"),w=s("adda"),C=s("8860"),I=s("da13"),V=s("8270"),y=s("5d23"),L=s("0fd9"),$=s("8dd9"),T=s("8654"),A=Object(u["a"])(d,i,n,!1,null,"70e0a028",null);e["a"]=A.exports;p()(A,{VAvatar:v["a"],VBtn:h["a"],VCard:g["a"],VCardActions:f["a"],VCardText:f["b"],VCol:k["a"],VDivider:_["a"],VExpandTransition:x["a"],VIcon:b["a"],VImg:w["a"],VList:C["a"],VListItem:I["a"],VListItemAvatar:V["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VRow:L["a"],VSheet:$["a"],VTextField:T["a"]})},"517e":function(t,e,s){"use strict";s("d660")},d660:function(t,e,s){},db41:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-container",[s("div",{staticClass:"mt-3",staticStyle:{"min-height":"200px"}},[s("app-one",{attrs:{post:t.post[0],heights:"450"}})],1)])],1)},n=[],a=(s("4de4"),s("1876")),o={name:"three",components:{"app-one":a["a"]},computed:{post:function(){var t=this;return this.$store.getters.posts.filter((function(e){return e._id==t.$route.params.id}))}}},r=o,c=s("2877"),l=s("6544"),d=s.n(l),u=s("7496"),m=s("a523"),p=Object(c["a"])(r,i,n,!1,null,"b1002086",null);e["default"]=p.exports;d()(p,{VApp:u["a"],VContainer:m["a"]})}}]);
//# sourceMappingURL=chunk-6e968403.79061139.js.map